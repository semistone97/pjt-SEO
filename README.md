# pjt-SEO

SeSAC 최종 프로젝트. **키워드 분석과 사용자 피드백에 기반하여 이커머스 상품 리스팅을 지능적으로 최적화하는 AI 에이전트**입니다.

## 주요 기능
![Flowchart_initial](/docs/Diagrams/flowchart.png "플로우차트")
- **지능형 키워드 분석 및 전략 수립**: `Helium10` 등에서 추출한 키워드 데이터와 상품 정보를 분석하여, 어떤 키워드를 제목(Title), 주요 특징(Bullet Points), 상세 설명(Description)에 배치할지 최적의 전략을 수립합니다.

- **AI 기반 리스팅 초안 생성**: 수립된 키워드 전략에 따라 LLM(대규모 언어 모델)을 활용하여 검색 엔진에 친화적인 상품 리스팅 초안을 자동으로 생성합니다.

- **RAG를 통한 사실성 검증 (Retrieval-Augmented Generation)**: 사용자가 상품 메뉴얼 등의 PDF 문서를 제공하면, 생성된 리스팅 내용이 사실에 부합하는지 자동으로 검증하여 결과물의 신뢰도를 높입니다.

- **사용자 피드백 기반 반복 개선**: 생성된 초안을 사용자가 검토하고 "제목만 다시 써줘" 또는 "두 번째 특징을 바꿔줘" 와 같이 피드백을 남기면, 에이전트가 이를 이해하고 해당 부분만 선택적으로 재생성합니다. 이 과정은 사용자가 만족할 때까지 반복됩니다.

## 동작 원리 (LangGraph 기반 워크플로우)
![Sequence Diagram](/docs/Diagrams/sequence%20diagram.png "시퀀스 다이어그램")
본 프로젝트의 핵심은 LangGraph를 사용하여 구축된 상태 기반의 자율 에이전트입니다. 에이전트는 다음과 같은 체계적인 워크플로우를 통해 동작합니다.

1.  **정보 입력 및 정제 (`Input & Refinement`)**: 사용자가 입력한 키워드, 상품 정보, PDF 문서를 받아 초기 데이터를 정제하고 분석합니다.
2.  **키워드 전략 수립 및 초안 생성 (`Keyword Strategy & Draft Generation`)**: 분석된 데이터를 바탕으로 키워드 분배 전략을 세우고, 이에 맞춰 리스팅 초안을 생성합니다.
3.  **(선택) 생성물 검증 (`Verification`)**: PDF가 제공된 경우, 생성된 내용과 PDF의 사실 관계를 비교하여 검증합니다.
4.  **사용자 피드백 수렴 (`User Feedback`)**: 사용자에게 초안을 제시하고, 수정/개선이 필요한 부분에 대한 피드백을 받습니다.
5.  **자동 재생성 및 수정 (`Regeneration`)**: 사용자의 피드백을 해석하여 수정이 필요한 노드(Node)를 다시 실행하고, 결과물을 수정한 뒤 다시 사용자에게 제시합니다. 이 과정은 사용자가 최종 승인할 때까지 순환합니다.

## 기술 스택
![System Architecture](/docs/Diagrams/system%20architecture.png "프로젝트 아키텍처 다이어그램")
- **Core**: Python, LangGraph, LangChain
- **AI / LLM**: OpenAI
- **Data Processing**: Pandas, NumPy
- **UI**: Streamlit

## 웹 애플리케이션 (Frontend)
![스크린샷](/docs/Diagrams/mockup.png "스크린샷")
사용자가 에이전트와 상호작용할 수 있도록 Streamlit을 사용하여 웹 UI를 구현했습니다.

- **직관적인 UI/UX**: 사이드바에서 상품명, 카테고리, 키워드(`CSV`), 상품 정보(`PDF`) 파일을 업로드하고 '분석 시작' 버튼을 누르면, 메인 화면에서 분석 과정을 실시간으로 확인할 수 있습니다. `st.status`와 `st.spinner`를 활용하여 사용자에게 현재 작업 상태를 명확히 보여줍니다.

- **데이터 연동**: 사용자가 업로드한 파일은 Streamlit의 `UploadedFile` 객체로 받아 `utils/data_loader_st.py`에서 즉시 처리됩니다. 처리된 데이터는 LangGraph 에이전트의 초기 `State`를 구성하는 데 사용됩니다.

- **상태 관리 및 피드백 루프 (개발 중)**: 현재는 '분석 시작' 시 전체 프로세스가 한 번에 실행되는 구조입니다. 프로젝트의 핵심 기능인 **사용자 피드백 기반 반복 개선**을 구현하기 위해 `st.session_state`를 활용한 상태 관리 기능을 개발하고 있습니다.
  - **목표**: `st.session_state`에 생성된 리스팅 결과와 그래프 상태를 저장하고, 사용자가 UI를 통해 남긴 피드백을 받아 특정 부분만 재생성하도록 에이전트를 다시 호출하는 'Human-in-the-loop' 사이클을 완성하는 것입니다.

